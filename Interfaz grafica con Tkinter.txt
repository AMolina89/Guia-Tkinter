Interfaz grafica con Tkinter
Alejandro Alvarez [contacto@codigopython.com.ar]
Ultima modificacion %%date(%d-%m-%Y)
%!target  : html
%!encoding: UTF-8
%!options: --toc

%%toc


Algo muy buscado en Python son las guias sobre interfaces graficas ya sea PyGTK, PyQT, WxPython o TkInter entre las mas conocidas teniendo cada una sus ventajas y desventajas, asi como cada una tiene facilidades y complicaciones en su uso y aplicacion. En esta oportunidad le dare un espacio a TkInter como guia complementaria a la hecha por Sebastardo en [http://www.codigopython.com.ar/?p=139 http://www.codigopython.com.ar/?p=139], intentare ser lo mas lo mas claro posible sin pasarme por alto los pequeños detalles en lo que compone la creacion de una interfaz grafica en Python con el [toolkit #glosario] TkInter.

= Introduccion =

== Acerca de Tk ==
[FIXME]

== Sobre esta guia ==
Dejo algunas observaciones sobre el tutorial, a lo largo del tutorial es posible que haga alusion a funciones o caracteristicas de distribuciones GNU/Linux ya que es el sistema operativo que estoy utilizando durante el desarrollo de esta guia, aunque esto no influye en el objetivo de la guia ya que Python es multiplataforma al igual que TkInter.
Para los que deseen colaborar con esta guia asi como en su contenido, pueden hacerlo registrandose en la [Wili http://wiki.codigopython.com.ar/registro]

= Empezando por lo basico =

Lo primero que debemos hacer al igual que con otros modulos es que debemos importalo para poder comenzar a utilizarlo, y al igual que con otros modulos tenemos dos formas de hacerlo

La primera y mas utilizada:

``` from Tkinter import *

Y la segunda y menos usada:

``` import Tkinter

: **NOTA**
En las versiones 3.x de Python el modulo Tk se debe llamar de esta forma //"from tkinter import *"// y no de esta forma //"from Tkinter import *"// es un cambio menor que hay que tener en cuenta si estan trabajando con Python 3.


La diferencia entre usar la primera y segunda forma es la misma con la que nos podemos topar a la hora de importar un modulo en Python, para verlo si volvemos al articulo ["Pausa entre comandos y acciones" http://wiki.codigopython.com.ar/eliluminado:pausa-entre-comandos-y-acciones] mostre esta diferencia utilizando al modulo //'time'// y para hacerlo use el siguiente ejemplo:

```
import time
time.sleep(10)
```

```
from time import sleep
sleep(10)
```

Usando la forma //"import Tkinter"// cada vez que utilicemos una funcion del este modulo tendremos que anteponer la palabra //'Tkinter'//, en cambio usando la segunda forma //"from Tkinter import *"// simplemente deberemos usar el nombre de la funcion sin el nombre del modulo.

Por ahora a modo de tutorial utilizaremos la primer forma pero esto queda a su desicion, ahora si retomemos la guia.

Una observacion que hare antes de continuar es no debemos pasa por alto la posibilidad de que el usuario no tenga instalado las librerias de TkInter y en consecuencia nuestra aplicacion no podra funcionar, lo mejor en este caso como en muchos otros es anticiparnos a los posibles errores que puedan ir surgiendo y manejar las excepciones de la siguiente forma:

```
try:
    from Tkinter import *
except ImportError:
    raise ImportError,"Se requiere el modulo Tkinter"
```

De esta forma en caso de que el potencial usuario de nuestra preciada aplicacion pueda saber cual es motivo (en el caso de que no tenga instalado Tkinter) por el cual no pudo ejecutarla.


Una vez importado el modulo 'Tkinter' correctamente podemos utilizarlo para crear nuestra primera ventana de la siguiente forma:

```
root = Tk()
root.mainloop()
```

Esas dos lineas son fundamentales, ya que dentro de ellas ira gran parte del contenido asi como la interfaz como pueden ser botones y menus, etc.. En la primera linea se crea un identificador que sera el que utilizaremos para referirnos a la ventana, en este caso lo llamamos 'root' y es una de las funciones mas importantes de Tkinter. Siempre que iniciamos un identificador en este caso lo llamamos 'root' debemos cerrarlo y todo lo contenido entre estas lineas seran parte del codigo de nuestra interfaz.[FIXME]

: **NOTA**
La variable 'root' usada para nombrar al identificador puede ser reemplazada por cualquier otro nombre siempre y cuando se respeten las palabras reservadas de Python (Para mas informacion entrar aqui [Palabras reservadas en Python http://wiki.codigopython.com.ar/eliluminado:nombres-de-variables-y-palabras-reservadas]) aunque es muy utilizado usar el nombre 'root' para la ventana principal y puede ser una buena practica para que resulte mas familiar a los demas programadores que se quieran unir al desarrollo de nuestra aplicacion.


Con esto ya tendremos una ventana vacia que nos servira para comenzar a trabajar, a partir de ahora ire ampliando esta guia mostrando los distintos [widgets #glosario] con los que contamos en TkInter y luego para finalizar crearemos un ejemplo sencillo para unir lo se vio a lo largo de esta guia.

= Widgets =

En esta seccion de la guia no nos centraremos en el posicinamiento y diseño de los elementos que compondran nuestra interfaz grafica lo dejaremos para la siguiente seccion ["Gestion del diseño" #gestion] en donde se vera mas detenidamente este asunto.

== Etiquetas [Label] ==

Para comenzar a llenar esa vacia ventana que acabamos de crear vamos a nombrar a las etiquetas o mas conocidas como //'label'// por su nombre en ingles, las podemos encontrar desde interfaces graficas hasta en formularios en HTML y son sumamente utiles en la construccion de interfaces y formularios, al igual que cuando creamos nuestra ventana vacia declarandola de la siguiente forma //"root = Tk()"// tendremos que hacerlo con nuestra etiqueta, para esto necesitamos escoger un nombre en mi caso escogere **"etiqueta"** para declararla y deberemos llamar al widget "Label" en vez de la funcion "Tk" como habiamos hechos anteriormente, como para orientarnos con lo ya visto quedando por ahora algo asi:

``` etiqueta = Label()

Una vez creada la estructura basica de la etiqueta tendremos que llenar esa parentesis vacio, primero tendremos que indicar a donde pertenece ese 'label' indicando el identificador de la ventana que en nuestro caso es 'root', separado por una coma escribiremos lo siguiente **text=** en donde seguido del signo igual incluiremos el texto que deseamos que incluya la etiqueta la cual puede ser un texto (que tendremos que encerrar entre comillas al igual que cuando usamos la sentencia print) o una variable que contenga al texto. Para verlo un poco mas claro juntemos todo en dos ejemplos uno donde muestre un texto fijo que le indiquemos a la etiqueta y otro usando una variable

- **Ejemplo numero 1**:
```
etiqueta = Label(root, text="Codigo Python")
```

- **Ejemplo numero 2**:
```
import getpass
texto = "Bienvenido %s a Codigo Python" % getpass.getuser()
etiqueta_2 = Label(root, text=texto)
```


Expliquemos los dos ejemplos, en el primero usamos un texto fijo no dinamico para utilizar como valor de la etiqueta en cambio en el segundo estamos usando una variable en donde su valor varia dependiendo de la salida que tenga la funcion //'getpass.getuser()'// que obtiene el nombre de usuario que tengamos en nuestra PC, como podemos observar su funcionamiento no varia mucho de lo que nos tiene acostumbrados Python, asi que si manejarnos con Tkinter es solamente aprendernos un par de nombres de sus widgets como para poder empezar a utilizarlo.

Pero (siempre hay un pero) antes de poder ejecutar este ejemplo en nuestra consola tendremos que declarar este widget en nuestra ventana dandole una ubicacion en la misma sino hacemos esto nuestra etiqueta simplemente no aparecera en nuestra ventana, para hacerlo tenemos dos formas (Esto se vera mas detenidamente mas adelante) una es usando **'pack'** y la otra **' grid'**. Como esto se vera mas adelante hare una breve sintesis de los dos:

- 'pack': [FIXME]

- 'grid': [FIXME]


Como en este ejemplo solo colocaremos una etiqueta no es necesario recurir al uso de 'grid' para posicionarlo, asi que usaremos 'pack' en su lugar. Pero lo mas importante es saber como se declara esta etiqueta en nuestra ventana y poder ver nuestro primer widget en funcionamiento, para lograr esto deberemos usar la siguiente forma:

``` etiqueta.pack()

Como vemos es muy simple solo debemos usar el nombre que utilizamos para declarar nuestra etiqueta seguida de la forma que vayamos a utilizar para posicionarla, pero para los que no desean esperar a leer la siguiente seccion para ver como se utiliza 'grid' les dejo la misma etiqueta pero posicionandola con 'grid' en lugar de usar 'pack' como ya lo habiamos visto:

``` etiqueta.grid(row=1, column=1)

Como se puede observar esta otra forma debimos indicarle dos parametros que sirven para especificar la posicion del widget, en este caso nuestra etiqueta. El primer parametro es //'row'// que se traduce como fila al español y el segundo es //'column'// o columna en español con ellos podemos indicar en que columna y fila debera colocarse el widget, aunque por ahora no profundisaremos entrando en detalles en la forma que trabaja cada uno ni todos los parametros que acepta cada una.

Si ahora escribieramos todo lo que vimos en nuestra consola tendriamos que ver nuestra primera etiqueta en funcionamiento, contenido dentro de una ventana, quedando todo el codigo como el siguiente:

```
>>> from Tkinter import *
>>> root = Tk()
>>> etiqueta = Label(root, text="Codigo Python")
>>> etiqueta.pack()
>>> root.mainloop()
```

Y asi es como quedara nuestro ejemplo terminado:

[img/ejemplo_Label.png]

Habiendo ya escrito esas lineas se da por finalizada la muestra de este primer widget y podemos seguir con la guia.


== Botones [Button] ==

Los botones pueden contener texto o imagenes y se les puede asociar funciones o metodos, que al hacer click sobre ellos Tkinter se encargara de llamar automaticamente a ese metodo o funcion y se ejecutara el codigo Python contenido dentro de ellos.

Un detalle es que solo puede utilizarse un tipo de fuente, pero ese texto puede ocupar varias lineas en caso de ser necesario. Ademas se puede subrayar el texto, un caracter o letra en particular, algo que es muy comun cuando se desea decirle al usuario sobre la existencia de un atajo con el teclado.

Antes de crear a ese boton debemos declarar la funcion a la cual se llamara, porque como se imaginaran no podemos decirle al boton que ejecute una funcion que aun no existe, por eso vamos a escribir un par de lineas y crearemos una funcion simple como para verificar que dicho boton funciona correctamente.

```
def funcion():
    print "Excelente"
```

Con esas dos lineas nos va a servir para demostrar su funcionamiento, ahora si vamos con el boton.

A continuacion les muestro el codigo con el cual vamos a trabajar:

```
from Tkinter import *

def funcion():
   print "Excelente"

root = Tk()
boton = Button(root, text="Que te parece la guia?", command=funcion)
boton.pack()
root.mainloop()
```

En el se observa la ya conocida importacion del modulo Tkinter, la funcion que ya habiamos declarado y la creacion del boton. Como se puede ver la creacion de un boton basico es muy similar al de una etiqueta pero se incluye un parametro mas que nos dara la posibilidad de especificar dentro de el la funcion que utilizaremos; el parametro mencionado es **'command'** y en ella podemos llamar a funciones o metodos, en este caso llamamos a la funcion 'funcion' que va a imprimir en la consola la palabra //'Excelente'//.


[img/ejemplo_Button.png]

[img/ejemplo_Button02.png]


== Cuadro de texto [Entry] ==

% http://www.librosweb.es/xhtml/capitulo8/elementos_de_formulario.html
% http://www.pythonware.com/library/tkinter/introduction/entry.htm

Este widget nos permite tanto mostrarle informacion al usuario como tambien obtener informacion de su parte, dotando a nuestra ventana de un widget


Para escribir varias lineas de texto utilice el widget 'Text'


== Opciones ==

%!include: Options.t2t



= Gestion del diseño =[gestion]

== Gestión de la geometría ==
=== pack ===
=== grid ===
=== place ===

== Frame ==

Aqui veremos a 'Frame' no solo como un widget mas sino como una forma de ordenar el diseño de nuestra aplicacion


== minsize ==
== Colores ==
== Fuentes ==
== Unidades de medida ==
% Centimetros, pulgadas, milimetros y puntos


= Menus y barras de herramientas =


= Ventanas de dialogos =


= Eventos =


= Ejemplos =


= Notas finales =


= Enlaces de interes =
http://www.codigopython.com.ar/miniguias/entorno-grafico-en-python

http://mundogeek.net/archivos/2008/11/24/interfaces-graficas-de-usuario-en-python/

http://foro.elhacker.net/scripting/python_curso_de_python_con_interfaces_graficas_tk-t232514.0.html

http://www.java2s.com/Code/Python/GUI-Tk/CatalogGUI-Tk.htm

http://www.ferg.org/thinking_in_tkinter/all_programs.html

http://www.pythonware.com/library/tkinter/introduction/label.htm

http://infohost.nmt.edu/tcc/help/pubs/tkinter/index.html


= Glosario =[glosario]

: toolkit


: widgets


= Licencia =

: Esta obra está licenciada bajo una Licencia Attribution-ShareAlike 3.0 Unported de Creative Commons. Para ver una copia de esta licencia, visite [http://creativecommons.org/licenses/by-sa/3.0/ http://creativecommons.org/licenses/by-sa/3.0/] o envíenos una carta a Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.
